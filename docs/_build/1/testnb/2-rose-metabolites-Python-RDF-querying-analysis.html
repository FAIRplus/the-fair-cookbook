---
redirect_from:
  - "/1/testnb/2-rose-metabolites-python-rdf-querying-analysis"
interact_link: content/1/testnb/2-rose-metabolites-Python-RDF-querying-analysis.ipynb
kernel_name: venv372
has_widgets: false
title: |-
  4
prev_page:
  url: /1/testnb/3-rose-metabolites-R-analysis.html
  title: |-
    3
next_page:
  url: /project_information.html
  title: |-
    Project Information
suffix: .ipynb

comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---

    <main class="jupyter-page">
    <div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Exploring-a-rose-garden-with-SPARQL">Exploring a rose garden with SPARQL<a class="anchor-link" href="#Exploring-a-rose-garden-with-SPARQL"> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>*Philippe Rocca-Serra (philippe.rocca-serra[at]oerc.ox.ac.uk), University of Oxford e-Research Centre</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">rdflib</span>
<span class="kn">from</span> <span class="nn">rdflib</span> <span class="k">import</span> <span class="n">Graph</span><span class="p">,</span> <span class="n">RDF</span>
<span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="k">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">import</span> <span class="nn">uuid</span>

<span class="kn">from</span> <span class="nn">SPARQLWrapper</span> <span class="k">import</span> <span class="n">SPARQLWrapper</span><span class="p">,</span> <span class="n">SPARQLWrapper2</span><span class="p">,</span> <span class="n">JSON</span><span class="p">,</span> <span class="n">JSONLD</span><span class="p">,</span> <span class="n">CSV</span><span class="p">,</span> <span class="n">TSV</span><span class="p">,</span> <span class="n">N3</span><span class="p">,</span> <span class="n">RDF</span><span class="p">,</span> <span class="n">RDFXML</span><span class="p">,</span> <span class="n">TURTLE</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pds</span>
<span class="kn">import</span> <span class="nn">itertools</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">plotnine</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">queryResultToHTMLTable</span><span class="p">(</span><span class="n">queryResult</span><span class="p">):</span>
    
   <span class="n">HTMLResult</span> <span class="o">=</span> <span class="s1">&#39;&lt;table&gt;&lt;tr style=&quot;color:white;background-color:#43BFC7;font-weight:bold&quot;&gt;&#39;</span>
   <span class="c1"># print variable names and build header:</span>
   <span class="k">for</span> <span class="n">varName</span> <span class="ow">in</span> <span class="n">queryResult</span><span class="o">.</span><span class="n">vars</span><span class="p">:</span>
       <span class="n">HTMLResult</span> <span class="o">=</span> <span class="n">HTMLResult</span> <span class="o">+</span> <span class="s1">&#39;&lt;td&gt;&#39;</span> <span class="o">+</span> <span class="n">varName</span> <span class="o">+</span> <span class="s1">&#39;&lt;/td&gt;&#39;</span>
   <span class="n">HTMLResult</span> <span class="o">=</span> <span class="n">HTMLResult</span> <span class="o">+</span> <span class="s1">&#39;&lt;/tr&gt;&#39;</span>

   <span class="c1"># print values from each row and build table of results</span>
   <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">queryResult</span><span class="p">:</span>
      <span class="n">HTMLResult</span> <span class="o">=</span> <span class="n">HTMLResult</span> <span class="o">+</span> <span class="s1">&#39;&lt;tr&gt;&#39;</span>   
      <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
        <span class="c1">#print(&quot;COLUMN:&quot;, column)</span>
        <span class="k">if</span> <span class="n">column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
             <span class="n">HTMLResult</span> <span class="o">=</span> <span class="n">HTMLResult</span> <span class="o">+</span> <span class="s1">&#39;&lt;td&gt;&#39;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">column</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/td&gt;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
             <span class="n">HTMLResult</span> <span class="o">=</span> <span class="n">HTMLResult</span> <span class="o">+</span> <span class="s1">&#39;&lt;td&gt;&#39;</span> <span class="o">+</span> <span class="s2">&quot;N/A&quot;</span><span class="o">+</span> <span class="s1">&#39;&lt;/td&gt;&#39;</span>
      <span class="n">HTMLResult</span> <span class="o">=</span> <span class="n">HTMLResult</span> <span class="o">+</span> <span class="s1">&#39;&lt;/tr&gt;&#39;</span>
   <span class="n">HTMLResult</span> <span class="o">=</span> <span class="n">HTMLResult</span> <span class="o">+</span> <span class="s1">&#39;&lt;/table&gt;&#39;</span>
   <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">HTMLResult</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_sparql_variables</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">sparql_wrapper</span><span class="o">=</span><span class="s2">&quot;SPARQLWrapper2&quot;</span><span class="p">):</span>
<span class="c1">#     return results.vars if (&quot;sparqlwrapper2&quot; == sparql_wrapper.lower()) else results[&#39;head&#39;][&#39;vars&#39;]</span>
    <span class="k">return</span> <span class="n">results</span><span class="o">.</span><span class="n">vars</span> <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;sparqlwrapper2&quot;</span> <span class="o">==</span> <span class="n">sparql_wrapper</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span> <span class="k">else</span> <span class="n">results</span><span class="o">.</span><span class="n">vars</span>


<span class="k">def</span> <span class="nf">get_sparql_bindings</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">sparql_wrapper</span><span class="o">=</span><span class="s2">&quot;SPARQLWrapper2&quot;</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">results</span><span class="o">.</span><span class="n">bindings</span> <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;sparqlwrapper2&quot;</span> <span class="o">==</span> <span class="n">sparql_wrapper</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span> <span class="k">else</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">][</span><span class="s1">&#39;bindings&#39;</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">get_sparql_binding_variable_value</span><span class="p">(</span><span class="n">binding</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">sparql_wrapper</span><span class="o">=</span><span class="s2">&quot;SPARQLWrapper2&quot;</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">binding</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span> <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;sparqlwrapper2&quot;</span> <span class="o">==</span> <span class="n">sparql_wrapper</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span> <span class="k">else</span> <span class="n">binding</span><span class="p">[</span><span class="n">variable</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">make_sparql_dict_list</span><span class="p">(</span><span class="n">bindings</span><span class="p">,</span> <span class="n">variables</span><span class="p">,</span> <span class="n">sparql_wrapper</span><span class="o">=</span><span class="s2">&quot;SPARQLWrapper2&quot;</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">binding_value</span><span class="p">(</span><span class="n">binding</span><span class="p">,</span> <span class="n">var</span><span class="p">):</span> <span class="c1"># helper function for returning values</span>
        <span class="k">return</span> <span class="n">get_sparql_binding_variable_value</span><span class="p">(</span><span class="n">binding</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">sparql_wrapper</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">var</span> <span class="ow">in</span> <span class="n">binding</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="n">dict_list</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># list to contain dictionaries</span>
    <span class="k">for</span> <span class="n">binding</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="n">bindings</span><span class="p">):</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">binding_value</span><span class="p">(</span><span class="n">binding</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="n">variables</span><span class="p">)]</span>
        <span class="n">dict_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">variables</span><span class="p">,</span> <span class="n">values</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">dict_list</span>


<span class="k">def</span> <span class="nf">make_sparql_df</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">sparql_wrapper</span><span class="o">=</span><span class="s2">&quot;SPARQLWrapper2&quot;</span><span class="p">):</span>
    <span class="n">variables</span> <span class="o">=</span> <span class="n">get_sparql_variables</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">sparql_wrapper</span><span class="p">)</span>
    <span class="c1"># print(variables)</span>

    <span class="n">cleaned_variables</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">n&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">variables</span><span class="p">]</span> 

    <span class="c1">#print(cleaned_variables)</span>
    <span class="n">bindings</span> <span class="o">=</span> <span class="n">get_sparql_bindings</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">sparql_wrapper</span><span class="p">)</span>
    <span class="c1"># print(bindings)</span>
    
    <span class="c1"># create a list of dictionaries to use as data for dataframe</span>
    <span class="n">data_list</span> <span class="o">=</span> <span class="n">make_sparql_dict_list</span><span class="p">(</span><span class="n">bindings</span><span class="p">,</span> <span class="n">cleaned_variables</span><span class="p">,</span> <span class="n">sparql_wrapper</span><span class="p">)</span>
    
    <span class="c1"># print(data_list)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pds</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_list</span><span class="p">)</span> <span class="c1"># create dataframe from data list</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;sample_mean&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;sample_mean&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">)</span>

   <span class="c1"># print(df[&quot;sample_mean&quot;])</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="n">cleaned_variables</span><span class="p">]</span> <span class="c1"># return dataframe with columns reordered</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>*credits to Bob du Charme for the following function [<a href="http://www.snee.com/bobdc.blog/2016/07/sparql-in-a-jupyter-aka-ipytho.html">http://www.snee.com/bobdc.blog/2016/07/sparql-in-a-jupyter-aka-ipytho.html</a>]</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's read the RDF graph generated using the rose-dtpkg2rdf.py python script and saved to disk as a turtle file</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#g.parse(&quot;./../data/processed/rose-data-as-rdf/rose-aroma-ng-06-2018-subset.ttl&quot;, format=&quot;n3&quot;)</span>
<span class="n">g</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;./../data/processed/rose-data-as-rdf/rose-aroma-ng-06-2018-full.ttl&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;n3&quot;</span><span class="p">)</span>
<span class="c1"># g.parse(&quot;./../data/processed/denovo/rdf/rose-aroma-ng-06-2018-full.ttl&quot;, format=&quot;n3&quot;)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">FileNotFoundError</span>                         Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-5-25e498617ce4&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-red-fg">#g.parse(&#34;./../data/processed/rose-data-as-rdf/rose-aroma-ng-06-2018-subset.ttl&#34;, format=&#34;n3&#34;)</span>
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span>g<span class="ansi-blue-fg">.</span>parse<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;./../data/processed/rose-data-as-rdf/rose-aroma-ng-06-2018-full.ttl&#34;</span><span class="ansi-blue-fg">,</span> format<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#34;n3&#34;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> <span class="ansi-red-fg"># g.parse(&#34;./../data/processed/denovo/rdf/rose-aroma-ng-06-2018-full.ttl&#34;, format=&#34;n3&#34;)</span>

<span class="ansi-green-fg">~/.pyenv/versions/venv372/lib/python3.7/site-packages/rdflib/graph.py</span> in <span class="ansi-cyan-fg">parse</span><span class="ansi-blue-fg">(self, source, publicID, format, location, file, data, **args)</span>
<span class="ansi-green-intense-fg ansi-bold">   1032</span>         source = create_input_source(source=source, publicID=publicID,
<span class="ansi-green-intense-fg ansi-bold">   1033</span>                                      location<span class="ansi-blue-fg">=</span>location<span class="ansi-blue-fg">,</span> file<span class="ansi-blue-fg">=</span>file<span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg">-&gt; 1034</span><span class="ansi-red-fg">                                      data=data, format=format)
</span><span class="ansi-green-intense-fg ansi-bold">   1035</span>         <span class="ansi-green-fg">if</span> format <span class="ansi-green-fg">is</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   1036</span>             format <span class="ansi-blue-fg">=</span> source<span class="ansi-blue-fg">.</span>content_type

<span class="ansi-green-fg">~/.pyenv/versions/venv372/lib/python3.7/site-packages/rdflib/parser.py</span> in <span class="ansi-cyan-fg">create_input_source</span><span class="ansi-blue-fg">(source, publicID, location, file, data, format)</span>
<span class="ansi-green-intense-fg ansi-bold">    182</span>         <span class="ansi-green-fg">if</span> absolute_location<span class="ansi-blue-fg">.</span>startswith<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;file:///&#34;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    183</span>             filename <span class="ansi-blue-fg">=</span> url2pathname<span class="ansi-blue-fg">(</span>absolute_location<span class="ansi-blue-fg">.</span>replace<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;file:///&#34;</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#34;/&#34;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">--&gt; 184</span><span class="ansi-red-fg">             </span>file <span class="ansi-blue-fg">=</span> open<span class="ansi-blue-fg">(</span>filename<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#34;rb&#34;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    185</span>         <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    186</span>             input_source <span class="ansi-blue-fg">=</span> URLInputSource<span class="ansi-blue-fg">(</span>absolute_location<span class="ansi-blue-fg">,</span> format<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;/Users/philippe/Documents/git/FAIRplus-org/the-fair-cookbook/docs/content/1/data/processed/rose-data-as-rdf/rose-aroma-ng-06-2018-full.ttl&#39;</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's ask for the independent variables and their levels using the following SPARQL query</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_idv_and_levels</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">PREFIX stato: &lt;http://purl.obolibrary.org/obo/STATO_&gt;</span>
<span class="s2">prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; </span>
<span class="s2">PREFIX ncbitax: &lt;http://purl.obolibrary.org/obo/NCBITaxon_&gt;</span>
<span class="s2">prefix has_part: &lt;http://purl.obolibrary.org/obo/BFO_0000051&gt;</span>
<span class="s2">            SELECT DISTINCT</span>
<span class="s2">             ?Predictor</span>
<span class="s2">             ?PredictorLevel</span>
<span class="s2">             WHERE { </span>
<span class="s2">                ?var a stato:0000087 ;</span>
<span class="s2">                    rdfs:label ?Predictor ;</span>
<span class="s2">                    has_part: ?value .</span>
<span class="s2">                ?value rdfs:label ?PredictorLevel .    </span>
<span class="s2">                 }               </span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can display the results of that query using the function declared earlier on.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">queryResultToHTMLTable</span><span class="p">(</span><span class="n">get_idv_and_levels</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table><tr style="color:white;background-color:#43BFC7;font-weight:bold"><td>Predictor</td><td>PredictorLevel</td></tr></table>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's now ask for the number of biological and technical replicates used to compute the mean concentration of the chemical compounds detected and forming the signature of the rose fragrance.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_replication_info</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; </span>
<span class="s2">prefix chmo:   &lt;http://purl.obolibrary.org/obo/CHMO_&gt; </span>
<span class="s2">prefix msio:   &lt;http://purl.obolibrary.org/obo/MSIO_&gt; </span>
<span class="s2">prefix stato: &lt;http://purl.obolibrary.org/obo/STATO_&gt; </span>
<span class="s2">prefix obi: &lt;http://purl.obolibrary.org/obo/OBI_&gt; </span>
<span class="s2">prefix ro: &lt;http://purl.obolibrary.org/obo/RO_&gt;</span>
<span class="s2">prefix po: &lt;http://purl.obolibrary.org/obo/PO_&gt;</span>
<span class="s2">prefix has_member: &lt;http://purl.obolibrary.org/obo/RO_0002351&gt;</span>
<span class="s2">prefix has_value: &lt;http://purl.obolibrary.org/obo/STATO_0000129&gt; </span>
<span class="s2">prefix computed_from: &lt;http://purl.obolibrary.org/obo/STATO_0000557&gt;</span>
<span class="s2">prefix has_specified_input: &lt;http://purl.obolibrary.org/obo/OBI_0000293&gt;</span>
<span class="s2">prefix is_specified_output_of: &lt;http://purl.obolibrary.org/obo/OBI_0000295&gt;</span>
<span class="s2">prefix is_about: &lt;http://purl.obolibrary.org/obo/IAO_0000136&gt;</span>

<span class="s2">SELECT        </span>
<span class="s2">      ?TreatmentGroup </span>
<span class="s2">      ?ChemicalCompound</span>
<span class="s2">      ?MeanConcentration</span>
<span class="s2">      (count(distinct ?member) as ?NbTechnicalReplicate) </span>
<span class="s2">      (count(distinct ?input) as ?NbBiologicalReplicate)      </span>
<span class="s2">      WHERE {</span>
<span class="s2">            ?population a stato:0000193 ;</span>
<span class="s2">                rdfs:label ?TreatmentGroup ;</span>
<span class="s2">                has_member: ?member .      </span>
<span class="s2">            ?member has_specified_input: ?input .              </span>
<span class="s2">            ?mean a stato:0000402 ;</span>
<span class="s2">                computed_from: ?population ;</span>
<span class="s2">                has_value: ?MeanConcentration ;</span>
<span class="s2">                is_about: ?ChemicalCompound .</span>
<span class="s2">            ?concentration a stato:0000072;</span>
<span class="s2">                is_about: ?ChemicalCompound .</span>
<span class="s2">}</span>
<span class="s2">      GROUP BY ?population </span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Once more, we invoked the pretty printing function:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">queryResultToHTMLTable</span><span class="p">(</span><span class="n">get_replication_info</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table><tr style="color:white;background-color:#43BFC7;font-weight:bold"><td>TreatmentGroup</td><td>ChemicalCompound</td><td>MeanConcentration</td><td>NbTechnicalReplicate</td><td>NbBiologicalReplicate</td></tr></table>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_all_data</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; </span>
<span class="s2">prefix chmo:   &lt;http://purl.obolibrary.org/obo/CHMO_&gt; </span>
<span class="s2">prefix msio:   &lt;http://purl.obolibrary.org/obo/MSIO_&gt; </span>
<span class="s2">prefix stato: &lt;http://purl.obolibrary.org/obo/STATO_&gt; </span>
<span class="s2">prefix obi: &lt;http://purl.obolibrary.org/obo/OBI_&gt; </span>
<span class="s2">prefix ro: &lt;http://purl.obolibrary.org/obo/RO_&gt;</span>
<span class="s2">prefix po: &lt;http://purl.obolibrary.org/obo/PO_&gt;</span>
<span class="s2">prefix chebi: &lt;http://purl.obolibrary.org/obo/CHEBI_&gt;</span>
<span class="s2">prefix has_value: &lt;http://purl.obolibrary.org/obo/STATO_0000129&gt;</span>
<span class="s2">prefix computed_from: &lt;http://purl.obolibrary.org/obo/STATO_0000557&gt;</span>
<span class="s2">prefix is_about: &lt;http://purl.obolibrary.org/obo/IAO_0000136&gt;</span>
<span class="s2">prefix is_denoted_by: &lt;http://purl.obolibrary.org/obo/STATO_0000205&gt;</span>
<span class="s2">prefix derives_from: &lt;http://purl.obolibrary.org/obo/RO_0001000&gt; </span>
<span class="s2">prefix located_in: &lt;http://purl.obolibrary.org/obo/RO_0001025&gt;</span>
<span class="s2">prefix denotes: &lt;http://purl.obolibrary.org/obo/IAO_0000219&gt;</span>
<span class="s2">prefix measured_in: &lt;http://purl.obolibrary.org/obo/RO_0002351&gt; </span>

<span class="s2">SELECT REDUCED  ?chemical_name ?chebi_identifier ?inchi ?sample_mean ?sem ?treatment ?genotype ?organism_part</span>
<span class="s2">WHERE {</span>
<span class="s2">        ?pop_mean a stato:0000402 ;</span>
<span class="s2">         is_about: ?chebi_identifier ;</span>
<span class="s2">         computed_from: ?population ;</span>
<span class="s2">         has_value: ?sample_mean .</span>
<span class="s2">     ?chem a ?chebi_identifier ;</span>
<span class="s2">         rdfs:label ?chemical_name ;</span>
<span class="s2">         is_denoted_by: ?inchi .</span>
<span class="s2">     ?semv a stato:0000037 ; </span>
<span class="s2">         denotes: ?pop_mean ;</span>
<span class="s2">         has_value: ?sem.</span>
<span class="s2">     ?population a stato:0000193 ;</span>
<span class="s2">         rdfs:label ?treatment .</span>
<span class="s2">     ?sub_conc a stato:0000072 ;</span>
<span class="s2">         derives_from: ?genotype ;</span>
<span class="s2">         located_in: ?organism_part;</span>
<span class="s2">         measured_in: ?population .         </span>
<span class="s2">}        </span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">queryResultToHTMLTable</span><span class="p">(</span><span class="n">get_all_data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table><tr style="color:white;background-color:#43BFC7;font-weight:bold"><td>chemical_name</td><td>chebi_identifier</td><td>inchi</td><td>sample_mean</td><td>sem</td><td>treatment</td><td>genotype</td><td>organism_part</td></tr></table>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span><span class="o">=</span><span class="n">make_sparql_df</span><span class="p">(</span><span class="n">get_all_data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">~/.pyenv/versions/venv372/lib/python3.7/site-packages/pandas/core/indexes/base.py</span> in <span class="ansi-cyan-fg">get_loc</span><span class="ansi-blue-fg">(self, key, method, tolerance)</span>
<span class="ansi-green-intense-fg ansi-bold">   2896</span>             <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 2897</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2898</span>             <span class="ansi-green-fg">except</span> KeyError<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">KeyError</span>: &#39;sample_mean&#39;

During handling of the above exception, another exception occurred:

<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-12-74226eea9bba&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>data<span class="ansi-blue-fg">=</span>make_sparql_df<span class="ansi-blue-fg">(</span>get_all_data<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">&lt;ipython-input-3-e97086bf9422&gt;</span> in <span class="ansi-cyan-fg">make_sparql_df</span><span class="ansi-blue-fg">(results, sparql_wrapper)</span>
<span class="ansi-green-intense-fg ansi-bold">     39</span> 
<span class="ansi-green-intense-fg ansi-bold">     40</span>     df <span class="ansi-blue-fg">=</span> pds<span class="ansi-blue-fg">.</span>DataFrame<span class="ansi-blue-fg">(</span>data_list<span class="ansi-blue-fg">)</span> <span class="ansi-red-fg"># create dataframe from data list</span>
<span class="ansi-green-fg">---&gt; 41</span><span class="ansi-red-fg">     </span>df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#34;sample_mean&#34;</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> df<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#34;sample_mean&#34;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>astype<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;float&#34;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     42</span> 
<span class="ansi-green-intense-fg ansi-bold">     43</span>    <span class="ansi-red-fg"># print(df[&#34;sample_mean&#34;])</span>

<span class="ansi-green-fg">~/.pyenv/versions/venv372/lib/python3.7/site-packages/pandas/core/frame.py</span> in <span class="ansi-cyan-fg">__getitem__</span><span class="ansi-blue-fg">(self, key)</span>
<span class="ansi-green-intense-fg ansi-bold">   2993</span>             <span class="ansi-green-fg">if</span> self<span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>nlevels <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2994</span>                 <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_getitem_multilevel<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">-&gt; 2995</span><span class="ansi-red-fg">             </span>indexer <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2996</span>             <span class="ansi-green-fg">if</span> is_integer<span class="ansi-blue-fg">(</span>indexer<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   2997</span>                 indexer <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span>indexer<span class="ansi-blue-fg">]</span>

<span class="ansi-green-fg">~/.pyenv/versions/venv372/lib/python3.7/site-packages/pandas/core/indexes/base.py</span> in <span class="ansi-cyan-fg">get_loc</span><span class="ansi-blue-fg">(self, key, method, tolerance)</span>
<span class="ansi-green-intense-fg ansi-bold">   2897</span>                 <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2898</span>             <span class="ansi-green-fg">except</span> KeyError<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 2899</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">.</span>_engine<span class="ansi-blue-fg">.</span>get_loc<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>_maybe_cast_indexer<span class="ansi-blue-fg">(</span>key<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2900</span>         indexer <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>get_indexer<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span>key<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> method<span class="ansi-blue-fg">=</span>method<span class="ansi-blue-fg">,</span> tolerance<span class="ansi-blue-fg">=</span>tolerance<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   2901</span>         <span class="ansi-green-fg">if</span> indexer<span class="ansi-blue-fg">.</span>ndim <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span> <span class="ansi-green-fg">or</span> indexer<span class="ansi-blue-fg">.</span>size <span class="ansi-blue-fg">&gt;</span> <span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/index.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.index.IndexEngine.get_loc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ansi-cyan-fg">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">KeyError</span>: &#39;sample_mean&#39;</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># width = figure_size[0]</span>
<span class="c1"># height = figure_size[0] * aspect_ratio</span>
<span class="n">gray</span> <span class="o">=</span> <span class="s1">&#39;#666666&#39;</span>
<span class="n">orange</span> <span class="o">=</span> <span class="s1">&#39;#FF8000&#39;</span>
<span class="n">blue</span> <span class="o">=</span> <span class="s1">&#39;#3333FF&#39;</span>

<span class="n">p1</span> <span class="o">=</span> <span class="p">(</span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
 <span class="o">+</span> <span class="n">aes</span><span class="p">(</span><span class="s1">&#39;chemical_name&#39;</span><span class="p">,</span><span class="s1">&#39;sample_mean&#39;</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(treatment)&#39;</span><span class="p">)</span>
 <span class="o">+</span> <span class="n">geom_col</span><span class="p">()</span>
<span class="o">+</span> <span class="n">facet_wrap</span><span class="p">(</span><span class="s1">&#39;~treatment&#39;</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;v&#39;</span><span class="p">,</span><span class="n">ncol</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
 <span class="o">+</span> <span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">expand</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
 <span class="o">+</span> <span class="n">theme</span><span class="p">(</span><span class="n">axis_text_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">hjust</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">blue</span><span class="p">))</span>
 <span class="o">+</span> <span class="n">theme</span><span class="p">(</span><span class="n">axis_text_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hjust</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">orange</span><span class="p">))</span>
         <span class="o">+</span> <span class="n">theme</span><span class="p">(</span><span class="n">figure_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
<span class="p">)</span>

<span class="n">p1</span> <span class="o">+</span> <span class="n">theme</span><span class="p">(</span><span class="n">panel_background</span><span class="o">=</span><span class="n">element_rect</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">blue</span><span class="p">)</span>
       <span class="p">)</span>

<span class="n">p1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-13-50ce0a623536&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">     12</span>  <span class="ansi-blue-fg">+</span> theme<span class="ansi-blue-fg">(</span>axis_text_x<span class="ansi-blue-fg">=</span>element_text<span class="ansi-blue-fg">(</span>rotation<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">90</span><span class="ansi-blue-fg">,</span> hjust<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">,</span> fontsize<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">6</span><span class="ansi-blue-fg">,</span> color<span class="ansi-blue-fg">=</span>blue<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     13</span>  <span class="ansi-blue-fg">+</span> theme<span class="ansi-blue-fg">(</span>axis_text_y<span class="ansi-blue-fg">=</span>element_text<span class="ansi-blue-fg">(</span>rotation<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span> hjust<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">,</span> fontsize<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">6</span><span class="ansi-blue-fg">,</span> color<span class="ansi-blue-fg">=</span>orange<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">---&gt; 14</span><span class="ansi-red-fg">          </span><span class="ansi-blue-fg">+</span> theme<span class="ansi-blue-fg">(</span>figure_size <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">8</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">16</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     15</span> )
<span class="ansi-green-intense-fg ansi-bold">     16</span> 

<span class="ansi-red-fg">NameError</span>: name &#39;data&#39; is not defined</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

 


    </main>
    