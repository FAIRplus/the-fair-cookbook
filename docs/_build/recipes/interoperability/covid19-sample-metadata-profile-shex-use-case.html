---
title: |-
  Covid19 Sample MetaData Profile Shex Validation
prev_page:
  url: /recipes/interoperability/creating-minimal-metadata-profiles.html
  title: |-
    Minimal MetaData Profiles
next_page:
  url: /recipes/interoperability/ontology-new-term-request-recipe.html
  title: |-
    How to request new terms in existing ontologies
suffix: .md

comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---

    <main class="jupyter-page">
    <div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="RDF-Metadata-Profile-Validation-with-Shape-Expression:">RDF Metadata Profile Validation with Shape Expression:<a class="anchor-link" href="#RDF-Metadata-Profile-Validation-with-Shape-Expression:"> </a></h1><h2 id="the-Covid-19-sample-metadata-use-case">the Covid-19 sample metadata use case<a class="anchor-link" href="#the-Covid-19-sample-metadata-use-case"> </a></h2><hr>
<div class="row">

  <div class="column">
    <div class="card">
      <div class="container">
        <i class="fa fa-qrcode fa-2x" style="color:#7e0038"></i>
        <h4><b>Recipe metadata</b></h4>
        <p> identifier: <a href="">RX.X</a> </p>
        <p> version: <a href="">v1.0</a> </p>
      </div>
    </div>
  </div>
  <div class="column">
    <div class="card">
      <div class="container">
        <i class="fa fa-fire fa-2x" style="color:#7e0038"></i>
        <h4><b>Difficulty level</b></h4>
        <i class="fa fa-fire fa-lg" style="color:#7e0038"></i>
        <i class="fa fa-fire fa-lg" style="color:#7e0038"></i>
        <i class="fa fa-fire fa-lg" style="color:#7e0038"></i>
        <i class="fa fa-fire fa-lg" style="color:lightgrey"></i>
        <i class="fa fa-fire fa-lg" style="color:lightgrey"></i>
  <!--       <p><span data-v-013baba1="" title="" class=""><svg data-v-013baba1="" viewBox="0 0 16 16" width="1em" height="1em" focusable="false" role="img" alt="icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi-bar-chart-fill b-icon bi medium-level"><g data-v-013baba1=""><rect width="4" height="5" x="1" y="10" rx="1"></rect><rect width="4" height="9" x="6" y="6" rx="1"></rect><rect width="4" height="14" x="11" y="1" rx="1"></rect></g></svg> Medium </span></p> -->
      </div>
    </div>
  </div>  
  <div class="column">
    <div class="card">
      <div class="container">
        <i class="fa fa-clock-o fa-2x" style="color:#7e0038;"></i>
        <h4><b>Reading Time</b></h4>
        <p><i class="fa fa-clock-o fa-lg" style="color:#7e0038;"></i> 30 minutes</p>
        <h4><b>Recipe Type</b></h4>
        <p><i class="fa fa-laptop fa-lg" style="color:#7e0038;"></i> Hands-on</p>
        <h4><b>Executable Code</b></h4>
        <p><i class="fa fa-play-circle fa-lg" style="color:#7e0038;"></i> Yes</p>
      </div>
    </div>
  </div>
  <div class="column">
    <div class="card">
      <div class="container">
        <i class="fa fa-group fa-2x" style="color:#7e0038;"></i>
        <h4><b>Intended Audience</b></h4>
        <p> <i class="fa fa-user-md fa-lg" style="color:#7e0038;"></i> Principal Investigators </p>
        <p> <i class="fa fa-database fa-lg" style="color:#7e0038;"></i> Data Managers </p>
        <p> <i class="fa fa-wrench fa-lg" style="color:#7e0038;"></i> Data Scientists </p>
<!--         <p> <i class="fa fa-money fa-lg" style="color:#7e0038;"></i> Funders</p> -->
      </div>
    </div>
  </div>
</div><hr>
<h2 id="Introduction:">Introduction:<a class="anchor-link" href="#Introduction:"> </a></h2><blockquote><p>:information_source: 
This recipe is adapted from work carried during the Elixir Covid-19 biohackathon, by the ontology and workflow tracks and presented <a href="http://covid19.genenetwork.org/">here</a> and detailed in the <a href="https://github.com/arvados/bh20-seq-resource/blob/master/paper/paper.md">following manuscript</a> while all the code and associated material is hosted on this <a href="https://github.com/arvados/bh20-seq-resource">github repository</a>.</p>
<p>:information_source: 
<a href="https://" title="title">Robert Hoendorf</a>, <a href="https://" title="title">Jose Emilio Labra Gayo</a>,<a href="https://" title="title">Thomas Liener</a>, <a href="https://" title="title">Nuria Queralt Rosinach</a>
, <a href="https://" title="title">Tazro  Ohta</a>, <a href="https://" title="title">Philippe Rocca-Serra</a>, <a href="https://" title="title">Claus Weilland</a>, <a href="https://" title="title">Piotr Prins</a>,  <a href="https://" title="title">Danielle Welter</a>. Thomas Liener  and Danielle Welter acted as coordinator between the ontology track and the workflow track led by Piotr Prins.</p>
</blockquote>
<p>In this specific report, we focus solely on the specific task of creating <code>covid-19 virus sample metadata reporting profile</code>. The aim was to ensure that each sequencing file generated by the sequencing efforts came with sufficient descriptive metadata to allow basic correlation analysis.</p>
<p>Therefore 3 essential steps were performed:</p>
<blockquote><ul>
<li>Listing essential sample attributes</li>
<li>Performing a semantic anchoring of these attributes</li>
<li>Defining a formal representation capturing those requirements</li>
<li>Expressing instance data in RDF/linked data format</li>
<li>Validating RDF instance data against requirements using a Shape Expression(SHEX)</li>
<li>Testing query cases by formulating SPARQL queries</li>
</ul>
</blockquote>
<p>The following sections detail each of these steps</p>
<h2 id="Defining-the-metadata-fields">Defining the metadata fields<a class="anchor-link" href="#Defining-the-metadata-fields"> </a></h2><div><img src="https://i.imgur.com/lwV1cPd.png" width="300" border="1"/></div>
<div><img src="https://i.imgur.com/1ahQLjy.png" width="300" border="1"/></div><p>Based on the GSC profile for a viral sample, the first step is to anchor those INSDC tags to one or more semantic frameworks.</p>
<h2 id="Semantic-anchoring-of-metadata-element:">Semantic anchoring of metadata element:<a class="anchor-link" href="#Semantic-anchoring-of-metadata-element:"> </a></h2><blockquote><p>Several mappings have been made by the developers: OBO, Wikidata or Schema.org.
For the final implementation, only the OBO related mappings has been used.
The principle remains the same for creating a validation profile.</p>
</blockquote>
<!-- ![](https://i.imgur.com/Ro92a7D.png) -->

<div><img src="https://i.imgur.com/Ro92a7D.png" width="800" border="1"/></div><p>For the rest of the development, the OBO based mapping were retained.</p>
<div><img src="https://i.imgur.com/Lc7FcPs.png" width="800" border="1"/></div><!-- ![](https://i.imgur.com/Lc7FcPs.png) -->

<p>From then on, the formalization process can test. The syntax chose is YAML in this example.</p>
<h2 id="1.-definition-of-an-metadata-acquisition-form-with-YAML:">1. definition of an metadata acquisition form with YAML:<a class="anchor-link" href="#1.-definition-of-an-metadata-acquisition-form-with-YAML:"> </a></h2><p>The annotation requirement has been captured in a YAML document, which is also used to build a web form (see below). The full document is available from:</p>
<p>Below is a partial view of the metadata yaml form, showing how <code>host</code> information requirements have been defined:</p>
<div class="highlight"><pre><span></span><span class="nv">$base</span>: http://biohackathon.org/bh20-seq-schema
<span class="nv">$namespaces</span>:
  sch: https://schema.org/
  efo: http://www.ebi.ac.uk/efo/
  obo: http://purl.obolibrary.org/obo/
  sio: http://semanticscience.org/resource/
  edam: http://edamontology.org/
  evs: http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl#

<span class="nv">$graph</span>:

- name: hostSchema
  type: record
  fields:
    host_species:
        doc: Host species as defined in NCBITaxon, e.g. http://purl.obolibrary.org/obo/NCBITaxon_9606 <span class="k">for</span> Homo sapiens
        type: string
        jsonldPredicate:
          _id: http://www.ebi.ac.uk/efo/EFO_0000532
          _type: <span class="s2">&quot;@id&quot;</span>
          noLinkCheck: <span class="nb">true</span>
    host_id:
        doc: Identifer <span class="k">for</span> the host. If you submit multiple samples from the same host, use the same host_id <span class="k">for</span> those samples
        type: string?
        jsonldPredicate:
          _id: http://semanticscience.org/resource/SIO_000115
    host_sex:
        doc: Sex of the host as defined in PATO, expect Male <span class="o">(</span>http://purl.obolibrary.org/obo/PATO_0000384<span class="o">)</span> or Female <span class="o">(</span>http://purl.obolibrary.org/obo/PATO_0000383<span class="o">)</span> or in Intersex <span class="o">(</span>http://purl.obolibrary.org/obo/PATO_0001340<span class="o">)</span>
        type: string?
        jsonldPredicate:
          _id: http://purl.obolibrary.org/obo/PATO_0000047
          _type: <span class="s2">&quot;@id&quot;</span>
          noLinkCheck: <span class="nb">true</span>
    host_age:
        doc: Age of the host as number <span class="o">(</span>e.g. <span class="m">50</span><span class="o">)</span>
        type: int?
        jsonldPredicate:
          _id: http://purl.obolibrary.org/obo/PATO_0000011
    host_age_unit:
        doc: Unit of host age e.g. http://purl.obolibrary.org/obo/UO_0000036
        type: string?
        jsonldPredicate:
          _id: http://purl.obolibrary.org/obo/NCIT_C42574
          _type: <span class="s2">&quot;@id&quot;</span>
          noLinkCheck: <span class="nb">true</span>
    host_health_status:
        doc: A condition or state at a particular time, must be one of the following <span class="o">(</span>obo:NCIT_C115935 obo:NCIT_C3833 obo:NCIT_C25269 obo:GENEPIO_0002020 obo:GENEPIO_0001849 obo:NCIT_C28554 obo:NCIT_C37987<span class="o">)</span>
        type: string?
        jsonldPredicate:
          _id: http://purl.obolibrary.org/obo/NCIT_C25688
          _type: <span class="s2">&quot;@id&quot;</span>
          noLinkCheck: <span class="nb">true</span>
    host_treatment:
      doc: Process in which the act is intended to modify or alter host status
      type: string?
      jsonldPredicate:
          _id: http://www.ebi.ac.uk/efo/EFO_0000727
</pre></div>
<p>source: <a href="https://github.com/arvados/bh20-seq-resource/blob/master/bh20sequploader/bh20seq-schema.yml">https://github.com/arvados/bh20-seq-resource/blob/master/bh20sequploader/bh20seq-schema.yml</a></p>
<h3 id="The-corresponding-metadata-acquisition-web-form:">The corresponding metadata acquisition web form:<a class="anchor-link" href="#The-corresponding-metadata-acquisition-web-form:"> </a></h3><div><img src="https://i.imgur.com/5eQN9hw.png" width="800" border="1"/></div><!-- ![](https://i.imgur.com/5eQN9hw.png) -->

<div><img src="https://i.imgur.com/RR5GSgi.png" width="800" border="1"/></div><!-- ![](https://i.imgur.com/RR5GSgi.png) -->



<h2 id="2.-Exemplar-instance-data:">2. Exemplar instance data:<a class="anchor-link" href="#2.-Exemplar-instance-data:"> </a></h2><p>When users submit information via the form (or by other programatic means), a instance yaml file is generated, which looks like this:</p>
<div class="highlight"><pre><span></span>id: placeholder

host:
    host_id: XX1
    host_species: http://purl.obolibrary.org/obo/NCBITaxon_9606
    host_sex: http://purl.obolibrary.org/obo/PATO_0000384
    host_age: <span class="m">20</span>
    host_age_unit: http://purl.obolibrary.org/obo/UO_0000036
    host_health_status: http://purl.obolibrary.org/obo/NCIT_C25269
    host_treatment: Process in which the act is intended to modify or alter host status <span class="o">(</span>Compounds<span class="o">)</span>
    host_vaccination: <span class="o">[</span>vaccines1,vaccine2<span class="o">]</span>
    ethnicity: http://purl.obolibrary.org/obo/HANCESTRO_0010
    additional_host_information: Optional free text field <span class="k">for</span> additional information

sample:
    sample_id: Id of the sample as defined by the submitter 
    collector_name: Name of the person that took the sample
    collecting_institution: Institute that was responsible of sampling  
    specimen_source: <span class="o">[</span>http://purl.obolibrary.org/obo/NCIT_C155831,http://purl.obolibrary.org/obo/NCIT_C155835<span class="o">]</span>
    collection_date: <span class="s2">&quot;2020-01-01&quot;</span>
    collection_location: http://www.wikidata.org/entity/Q148
    sample_storage_conditions: frozen specimen
    source_database_accession: <span class="o">[</span>http://identifiers.org/insdc/LC522350.1#sequence<span class="o">]</span>
    additional_collection_information: Optional free text field <span class="k">for</span> additional information

virus:
    virus_species: http://purl.obolibrary.org/obo/NCBITaxon_2697049
    virus_strain: SARS-CoV-2/human/CHN/HS_8/2020

technology:
    sample_sequencing_technology: <span class="o">[</span>http://www.ebi.ac.uk/efo/EFO_0009173,http://www.ebi.ac.uk/efo/EFO_0009173<span class="o">]</span>
    sequence_assembly_method: Protocol used <span class="k">for</span> assembly
    sequencing_coverage: <span class="o">[</span><span class="m">70</span>.0, <span class="m">100</span>.0<span class="o">]</span>
    additional_technology_information: Optional free text field <span class="k">for</span> additional information

submitter:
    authors: <span class="o">[</span>John Doe, Joe Boe, Jonny Oe<span class="o">]</span>
    submitter_name: <span class="o">[</span>John Doe<span class="o">]</span>
    submitter_address: John Doe<span class="se">\&#39;</span>s address
    originating_lab: John Doe kitchen
    lab_address: John Doe<span class="se">\&#39;</span>s address
    provider_sample_id: XXX1
    submitter_sample_id: XXX2
    publication: PMID00001113
    submitter_orcid: <span class="o">[</span>https://orcid.org/0000-0000-0000-0000,https://orcid.org/0000-0000-0000-0001<span class="o">]</span>
    additional_submitter_information: Optional free text field <span class="k">for</span> additional information
</pre></div>
<p>source: <a href="https://github.com/arvados/bh20-seq-resource/blob/master/example/maximum_metadata_example.yaml">https://github.com/arvados/bh20-seq-resource/blob/master/example/maximum_metadata_example.yaml</a></p>
<h2 id="3.-SHEX-expression:">3. SHEX expression:<a class="anchor-link" href="#3.-SHEX-expression:"> </a></h2><p>Working with a domain expert (<a href="http://di002.edv.uniovi.es/~labra/">Dr Jose Emilio Labra Gayo - (Oviedo Uni)</a>, using <a href="https://shex.io/shex-semantics/">Shape Expression syntax</a> the following profile was developed and used to validate the RDF before persistence to the SPARQL endpoint:</p>
<div class="highlight"><pre><span></span>PREFIX : &lt;https://raw.githubusercontent.com/arvados/bh20-seq-resource/master/bh20sequploader/bh20seq-shex.rdf#&gt;
PREFIX MainSchema: &lt;http://biohackathon.org/bh20-seq-schema#MainSchema/&gt;
PREFIX hostSchema: &lt;http://biohackathon.org/bh20-seq-schema#hostSchema/&gt;
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX obo: &lt;http://purl.obolibrary.org/obo/&gt;
PREFIX sio: &lt;http://semanticscience.org/resource/&gt;
PREFIX efo: &lt;http://www.ebi.ac.uk/efo/&gt;
PREFIX evs: &lt;http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl#&gt;
PREFIX edam: &lt;http://edamontology.org/&gt;
PREFIX wikidata: &lt;http://www.wikidata.org/entity/&gt;

:submissionShape <span class="o">{</span>
  MainSchema:host   @:hostShape <span class="p">;</span>
  MainSchema:sample @:sampleShape <span class="p">;</span>
  MainSchema:submitter @:submitterShape <span class="p">;</span>
  MainSchema:technology @:technologyShape <span class="p">;</span>
  MainSchema:virus @:virusShape<span class="p">;</span>
<span class="o">}</span>

:hostShape  <span class="o">{</span>
    efo:EFO_0000532 <span class="o">[</span> obo:NCBITaxon_~ <span class="o">]</span> <span class="p">;</span>
    sio:SIO_000115 xsd:string ?<span class="p">;</span>
    obo:PATO_0000047 <span class="o">[</span> obo:PATO_0000384 obo:PATO_0000383 obo:PATO_0001340<span class="o">]</span> ?<span class="p">;</span>
    obo:PATO_0000011 xsd:integer ?<span class="p">;</span>
    obo:NCIT_C42574 <span class="o">[</span> obo:UO_~ <span class="o">]</span> ?<span class="p">;</span>
  obo:NCIT_C25688 <span class="o">[</span>obo:NCIT_C115935 obo:NCIT_C3833 obo:NCIT_C25269 obo:GENEPIO_0002020 obo:GENEPIO_0001849 obo:NCIT_C28554 obo:NCIT_C37987 <span class="o">]</span> ? <span class="p">;</span>
    efo:EFO_0000727 xsd:string ?<span class="p">;</span>
    obo:VO_0000002 xsd:string <span class="o">{</span><span class="m">0</span>,10<span class="o">}</span><span class="p">;</span>
    sio:SIO_001167 xsd:string ?<span class="p">;</span>
    sio:SIO_001014 <span class="o">[</span> obo:HANCESTRO_~ <span class="o">]</span> ? <span class="p">;</span> <span class="c1">#ethnicity</span>
<span class="o">}</span>

:sampleShape  <span class="o">{</span>
    sio:SIO_000115 xsd:string<span class="p">;</span>
    evs:C25164 xsd:string<span class="p">;</span>
    obo:GAZ_00000448 <span class="o">[</span>wikidata:~<span class="o">]</span> <span class="p">;</span>
    obo:OBI_0001895 xsd:string ?<span class="p">;</span>
    obo:NCIT_C41206 xsd:string ?<span class="p">;</span>
    obo:OBI_0001479 IRI <span class="o">{</span><span class="m">0</span>,2<span class="o">}</span><span class="p">;</span>
    obo:OBI_0001472 xsd:string ?<span class="p">;</span>
    sio:SIO_001167 xsd:string ?<span class="p">;</span>
  edam:data_2091 IRI <span class="o">{</span><span class="m">0</span>,3<span class="o">}</span><span class="p">;</span>
<span class="o">}</span>

:submitterShape <span class="o">{</span>
    obo:NCIT_C42781 xsd:string + <span class="p">;</span>
    sio:SIO_000116 xsd:string *<span class="p">;</span>
    sio:SIO_000172 xsd:string ?<span class="p">;</span>
    obo:NCIT_C37984 xsd:string ?<span class="p">;</span>
    obo:OBI_0600047 xsd:string ?<span class="p">;</span>
    obo:NCIT_C37900 xsd:string ?<span class="p">;</span>
    efo:EFO_0001741 xsd:string ?<span class="p">;</span>
    obo:NCIT_C19026 xsd:string ?<span class="p">;</span>
    sio:SIO_000115 
    sio:SIO_001167 xsd:string ?<span class="p">;</span>
<span class="o">}</span>

:technologyShape <span class="o">{</span>
    obo:OBI_0600047 IRI <span class="o">{</span><span class="m">0</span>,3<span class="o">}</span> <span class="p">;</span>
    efo:EFO_0002699 xsd:string ?<span class="p">;</span>
    obo:FLU_0000848 xsd:double OR xsd:integer <span class="o">{</span><span class="m">0</span>,3<span class="o">}</span><span class="p">;</span>
    sio:SIO_001167 xsd:string ?<span class="p">;</span>
<span class="o">}</span>

:virusShape<span class="o">{</span>
  edam:data_1875 <span class="o">[</span> obo:NCBITaxon_~ <span class="o">]</span> <span class="p">;</span>
    sio:SIO_010055 xsd:string ?<span class="p">;</span>
<span class="o">}</span>
</pre></div>
<p>source: <a href="https://github.com/arvados/bh20-seq-resource/blob/master/bh20sequploader/bh20seq-shex.rdf">https://github.com/arvados/bh20-seq-resource/blob/master/bh20sequploader/bh20seq-shex.rdf</a></p>
<p>Using the <a href="http://www.weso.es/">WESO</a> developed <a href="http://rdfshape.weso.es/">dedicated tool</a>,  Shape Expression can be viewed. In the example below a <a href="https://schema.org">schema.org</a> base shex expression in presented.</p>
<div><img src="https://i.imgur.com/z2rriQu.png" link="http://rdfshape.weso.es/shExVisualize?activeSchemaTab=%23schemaTextArea&schema=PREFIX%20%3A%20%3Chttp%3A%2F%2Fwhatever%2F%3E%0APREFIX%20MainSchema%3A%20%3Chttp%3A%2F%2Fbiohackathon.org%2Fbh20-seq-schema%23MainSchema%2F%3E%0APREFIX%20hostSchema%3A%20%3Chttp%3A%2F%2Fbiohackathon.org%2Fbh20-seq-schema%23hostSchema%2F%3E%0APREFIX%20xsd%3A%20%20%3Chttp%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%23%3E%0APREFIX%20efo%3A%20%20%20%3Chttp%3A%2F%2Fwww.ebi.ac.uk%2Fefo%2F%3E%0Aprefix%20my%3A%20%3Chttp%3A%2F%2Fexample.org%2F%3E%0Aprefix%20ex%3A%20%3Chttp%3A%2F%2Fexample.org%2F%3E%0Aprefix%20rdf%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0Aprefix%20sdo%3A%20%3Chttp%3A%2F%2Fschema.org%2F%3E%0Aprefix%20geo%3A%20%3Chttp%3A%2F%2Fwww.opengis.net%2Font%2Fgeosparql%23%3E%0Aprefix%20sdo%3A%20%3Chttp%3A%2F%2Fschema.org%2F%3E%0A%0A%3ASubmissionShape%20%7B%0A%20%20MainSchema%3Ahost%20%20%20%20%20%20%20%40%3AHost%20%3B%20%0A%20%20MainSchema%3Asubmitter%20%20%40%3ASubmitter%20%3B%0A%20%20MainSchema%3Asample%20%20%20%20%20%40%3ASample%20%3B%0A%20%20MainSchema%3Asubmitter%20%20%40%3ASubmitter%20%3B%0A%20%20MainSchema%3Atechnology%20%40%3ATechnology%20%3B%0A%7D%0A%20%20%0A%3ASubmitter%20%7B%0A%20%20%09sdo%3AinfectiousAgentClass%20xsd%3Astring%3B%0A%20%20%09sdo%3AinfectiousAgent%20xsd%3Astring%0A%7D%20%0A%20%20%0A%3AHost%20%7B%0A%20a%20%5B%20sdo%3APerson%20%20%0A%20%20%20%20%20sdo%3APatient%20%0A%20%20%20%20%20sdo%3AAnimal%20%20%20%23not%20defined%20yet%20in%20sdo%0A%20%5D%3B%20%0A%20sdo%3Aidentifier%20IRI%2B%3B%0A%20sdo%3Aname%20xsd%3Astring%3B%0A%20sdo%3Agender%20%5B%22female%22%20%22male%22%20%22other%22%20%22NA%22%5D%3B%0A%20sdo%3Aage%20xsd%3Ainteger%3B%0A%20sdo%3Aunit%20IRI%2B%3B%0A%20sdo%3AhealthCondition%20IRI%2B%3B%0A%20sdo%3Adrug%20%40%3ADrug%20%2B%3B%0A%20sdo%3AprimaryPrevention%20%40%3APrimaryPrevention%20%3B%0A%20sdo%3Acomment%20xsd%3Astring%20%2B%0A%7D%20%20%0A%20%0A%3ADrug%20IRI%0A%0A%3APrimaryPrevention%20%7B%0A%7D%0A%0A%3ASample%20%7B%0A%20%20%09sdo%3AdateCreated%20xsd%3ADate%3B%0A%20%20%09sdo%3AfromLocation%20IRI%2B%3B%0A%20%20%09sdo%3AfromLocation%20%40geo%3AGeoLocation%3B%20%23to%20defined%20or%20fetch%20from%20existing%0A%20%20%09sdo%3Aidentifier%20IRI%3B%0A%20%20%09sdo%3Asender%20IRI%0A%7D%20%0A%0A%3ASubmitter%20%7B%0A%20%20%09rdf%3Atype%20%5B%20sdo%3APerson%20%5D%3B%0A%20%20%09sdo%3Aidentifier%20IRI%3B%0A%20%20%09sdo%3Afullname%20xsd%3Astring%3B%0A%20%20%09sdo%3Arolename%20xsd%3Astring%3B%0A%20%20%7D%20%0A%0A%3ATechnology%20%7B%0A%20%20%09sdo%3AmeasurementTechnique%20IRI%2B%20%3B%0A%20%20%09sdo%3AmedicalDevice%20IRI%2B%3B%0A%7D%20%0A%0Ageo%3AGeoLocation%20%7B%7D&schemaEmbedded=false&schemaEngine=ShEx&schemaFormat=ShExC&schemaFormatTextArea=ShExC" width="800" border="1"></div><!-- ![](https://i.imgur.com/z2rriQu.png) -->

<p>There is a blog focusing mainly on the sequence analysis but there is a section on metadata validation.</p>
<h2 id="4.-SPARQL-queries-available-here:">4. SPARQL queries available here:<a class="anchor-link" href="#4.-SPARQL-queries-available-here:"> </a></h2><p><a href="http://covid19.genenetwork.org/blog?id=using-covid-19-pubseq-part1">http://covid19.genenetwork.org/blog?id=using-covid-19-pubseq-part1</a></p>
<h3 id="4.1.-The-SPARQL-endpoint">4.1. The SPARQL endpoint<a class="anchor-link" href="#4.1.-The-SPARQL-endpoint"> </a></h3><p>The following endpoint during the Elixir Covid-19 Biohackthon and metadata information converted from the YAML definition to RDF turtle format was loaded in the following SPARQL Endpoint.</p>
<p><a href="http://sparql.genenetwork.org/sparql/">http://sparql.genenetwork.org/sparql/</a></p>
<p>The collection of metadata in rdf format is available for download: <a href="https://collections.lugli.arvadosapi.com/c=lugli-4zz18-z513nlpqm03hpca/mergedmetadata.ttl">https://collections.lugli.arvadosapi.com/c=lugli-4zz18-z513nlpqm03hpca/mergedmetadata.ttl</a></p>
<h3 id="4.2.-Exploring-the-metadata-described-the-FASTQ-sequence-files">4.2. Exploring the metadata described the FASTQ sequence files<a class="anchor-link" href="#4.2.-Exploring-the-metadata-described-the-FASTQ-sequence-files"> </a></h3><p>Limiting search to metadata add <a href="http://covid-19.genenetwork.org/graph/metadata.ttl">http://covid-19.genenetwork.org/graph/metadata.ttl</a> in the top input box. Now you can find a predicate for submitter that looks like <a href="http://biohackathon.org/bh20-seq-schema#MainSchema/submitter">http://biohackathon.org/bh20-seq-schema#MainSchema/submitter</a>.</p>
<div class="highlight"><pre><span></span>PREFIX pubseq: &lt;http://biohackathon.org/bh20-seq-schema#MainSchema/&gt;
PREFIX sio: &lt;http://semanticscience.org/resource/&gt;
<span class="k">select</span> distinct ?sample ?p ?o
<span class="o">{</span>
   ?sample sio:SIO_000115 <span class="s2">&quot;MT326090.1&quot;</span> .
   ?sample ?p ?o .
<span class="o">}</span>
</pre></div>
<hr>
<h2 id="Conclusions:">Conclusions:<a class="anchor-link" href="#Conclusions:"> </a></h2><blockquote><p>In this recipe, we have presented how to implement a minimal medata profile and validate data entry with a specific technology stack: namely using RDF and Shape Express standard. Other approaches are possible and we provide details in a dedicated recipe where JSON schema and JSON-LD technologies are used. 
This recipe tackles an important aspect of the FAIR principles, shining the light on the need to provide sufficient descriptive metadata to associate with an assay data file to allow its correct interpretation.
The recipe therefore provides a piece of the jigsaw to establish a FAIR datasets.
There are some caveats or improvements which could be made. For instance, the devised shex expression and the associated instance RDF graph  could be assigned a persistent identifiers (PID).
Another improvement could be a better integration with repositories such FAIRsharing or the main submission systems to</p>
<h4 id="What-should-I-read-next?">What should I read next?<a class="anchor-link" href="#What-should-I-read-next?"> </a></h4><ul>
<li><a href="">How to validate a FASTQ sequencing file?</a></li>
<li><a href="">How to express Minimal Metadata checklist in machine readable format</a></li>
<li><a href="">How to validate metadata with JSON Schema?</a></li>
<li><a href="">How to perform data integration with SPARQL?</a></li>
</ul>
</blockquote>
<h2 id="FAIRification-Objectives,-Inputs-and-Outputs">FAIRification Objectives, Inputs and Outputs<a class="anchor-link" href="#FAIRification-Objectives,-Inputs-and-Outputs"> </a></h2><table>
<thead><tr>
<th style="text-align:left">Actions.Objectives.Tasks</th>
<th style="text-align:left">Input</th>
<th style="text-align:left">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a href="">validation</a></td>
<td style="text-align:left"><a href="">text</a></td>
<td style="text-align:left"><a href="">DOI</a></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">file</td>
</tr>
</tbody>
</table>
<h2 id="Table-of-Data-Standards">Table of Data Standards<a class="anchor-link" href="#Table-of-Data-Standards"> </a></h2><table>
<thead><tr>
<th style="text-align:left">Data Formats</th>
<th style="text-align:left">Terminologies</th>
<th style="text-align:left">Models</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a href="">YAML</a></td>
<td style="text-align:left"><a href="">EFO</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><a href="">RDF</a></td>
<td style="text-align:left"><a href="">SIO</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><a href="">SPARQL</a></td>
<td style="text-align:left"><a href="https://schema.org">SDO</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><a href="">EDAM</a></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><a href="">OBO</a></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="Biobliographic-reference:">Biobliographic reference:<a class="anchor-link" href="#Biobliographic-reference:"> </a></h2><p>{% bibliography --cited %}</p>
<hr>
<h2 id="Authors:">Authors:<a class="anchor-link" href="#Authors:"> </a></h2><table>
<thead><tr>
<th style="text-align:left">Name</th>
<th style="text-align:left">Affiliation</th>
<th style="text-align:left">orcid</th>
<th style="text-align:left">CrediT role</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Philippe Rocca-Serra</td>
<td style="text-align:left">University of Oxford, Data Readiness Group</td>
<td style="text-align:left"><a href="https://orcid.org/orcid.org/0000-0001-9853-5668">0000-0001-9853-5668</a></td>
<td style="text-align:left">Writing - Original Draft, Shex expression, ontology mapping</td>
</tr>
<tr>
<td style="text-align:left">Danielle Welter</td>
<td style="text-align:left">University of Luxembourg</td>
<td style="text-align:left">xxxx-xxxx-xxxx-xxx</td>
<td style="text-align:left">Review, ontology mapping</td>
</tr>
<tr>
<td style="text-align:left">Jose Emilio Labra Gayo</td>
<td style="text-align:left">University of Oviedo</td>
<td style="text-align:left">xxxx-xxxx-xxxx-xxx</td>
<td style="text-align:left">Shex Expression</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="License:">License:<a class="anchor-link" href="#License:"> </a></h2><p><a href="https://creativecommons.org/licenses/by/4.0/"><img src="https://mirrors.creativecommons.org/presskit/buttons/80x15/png/by-sa.png" height="20"/></a></p>

</div>
</div>
</div>
</div>

 


    </main>
    