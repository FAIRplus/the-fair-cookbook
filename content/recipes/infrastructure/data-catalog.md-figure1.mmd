graph TD;
  subgraph b
  AA(Populate Data Catalogue):::box
  AA --> |identify<br>data<br>sources| E(Data Source #1):::box
  AA --> |identify<br>data<br>sources| F(Data Source #n):::box
  
  E -->|ETL-1|B1(instance file):::box
  F -->|ETL-2|B2(instance file):::box

  B1 -->|data persistence| DL(document oriented database)
  B2 -->|data persistence| DL:::box

  DL[Build Search Function] --> |build search index|SE(Search Engine):::box
  SE -->|ontology tree search| SSS(Query Expansion):::box
  SE -->|synonym space search| SSS(Query Expansion)
  end

  subgraph a
  A(Building Data Catalogue):::box
  style a fill:#e8eaeb,font-family:avenir
  style b fill:#e8eaeb
  A-->|define curation policies| A3(Curation<br> Policies):::box
  A3-->|select data model| B(DATS):::box
  B-->|select controlled<br> vocabularies| CV1(key facet #1:<br> CV1):::box
  B-->|select controlled<br> vocabularies| CV2(key facet #2:<br> CV2):::box
  B-->|select controlled<br> vocabularies| CV3(key facet #n:<br> CVn):::box

  linkStyle 0,1,2,3,4,5,6,7,8,9,10,11,12,13 stroke:#B30000,stroke-width:1px,color:#B30000,font-family:avenir;
  classDef box font-family:avenir,font-size:14px,fill:#B30000,stroke:#222,color:#fff,stroke-width:1px
  end